<span class="post_content">

	<!-- jQuery -->
	<script src="http://code.jquery.com/jquery-1.9.1.min.js"></script>
	
	<!-- Map generation -->
	<script src="lib/QuadTree.js"></script>
	<script src="lib/PerlinSimplex.js"></script>
	<script src="lib/base.js"></script>
	<script src="map-gen-demo.js"></script>

	<!-- Pathfinder -->
	<script src="lib/Pathfinder.js"></script>
	<script src="lib/Heap.js"></script>
	<script src="pathfinder-demo.js"></script>

<p>
During the start of this summer I took some time to dump in things other than master's thesis work. For one week me and a couple of friends got together and practised attack-programming. The end result; A map generator based on Ken Perlin's simplex noise and a heirachical map manager capable of representing the map at different levels of detail all implemented in javascript! This means it is easy to demo the stuff on a webpage such as this! A special thanks goes to Sean McCullough [todo: link] for his javascript implementation of a simplex noise generator.
</p>

<!-- Map generation demo -->
<span id="map-gen">
	<canvas id="canvas-map-gen1"></canvas>
	<canvas id="canvas-map-gen2"></canvas>
	<canvas id="canvas-map-gen3"></canvas>
</span>

<p>
This is the basic idea for the map representation for Endless Chase. I hope to be able to handle large worlds by only using the level of detail needed. For example, unit pathfinding can be solved exactly for small distances and approximated when travelling for longer stretches. This is similar to how we humans solve pathfinding; We don't plan every step to take when going to the store. We first determine key points to pass and then path between these key points. Inspired by this, and interested in having many units pathfinding in a large world simultaneously without having my laptop explode, I put together this little demo during the past week.
</p>

<span id="pathfinder">
	<canvas id="canvas-pathfinder"></canvas>
</span>

<p>
You can click around the map to place a starting point and an end point. The program will then calculate a path between these points. The bright red line is the calculated path. The varying size on the squares constituting the path represents the current level of detail for the pathed point. Large squares means coarse pathing while small ones mean high detail. Also shown in in varying colours from yellow to green is explored points that did not yield the final path. The idea is then to recalculate the path once the unit has moved a certain distance along it, when more detail is needed. This will not yield optimal paths in general but the reduced complexity is worth it!
Left to add is some notion of impassable terrain. In the end I want buildings and walls beiang able to block paths thus the map must be augmented with some idea of connectivity. I also want roads to play a part in the game but I'll save musing on this for later.
</p>

<p>
Interesting idea, use lod while exploring. Distant, not-yet-explored, areas use a more coarse representaiton when redered than a well-explored area.
</p>

<p>ashlaban, July 7th 2013</p>

<script type="text/javascript">
	
	// Document stuff
	$(document).ready(function() {
		initMapGen(16);
		initPathfinder(16);
	});

	// Map generation demo stuff
	document.getElementById('map-gen').onclick = function()
	{
		initMapGen(16);
		console.log("Running!")
	}

	// Pathfinding demo stuff
	var start = {x: 50, y: 50};
	var end   = {x: 70, y: 70};
	var state = "Start";
	document.getElementById('canvas-pathfinder').onclick = function( e )
	{
		if ( state === 'End' )
		{
			end.x = e.offsetX;
			end.y = e.offsetY;
			state = "Start";

			findPath( start, end );
		}
		else if (state === "Start")
		{
			start.x = e.offsetX;
			start.y = e.offsetY;
			state = "End";
		}
	}


</script>

</span>

<span class="post_content">
	<h1>First Post!</h1>
	Nu ska jag vara i mitten. Ring 070-386 17 30 om jag inte är det. Test2</br>
	<a href="http://www.google.com"> GOOGLE FOER FAN </a> </br>
	<img class="BILDFAN" src="img/example.svg" style="width:50%">
</span>

<span class="post_content">
	<h1>Second Post!</h2>
	My second post! Jag undrar just hur lång en sådan här post kan bli. Eller jag kanske ska kalla det inlägg. Jag vet inte riktigt vilken nivå av inlånade engelska ord som är den optimala.
</span>

<span class="post_content">
	<h1>Week 15 Summary</h1>

	<p>Sick one day and kind of unproductive the first few days of the week. Recovered some during Friday. Set up for nice continuation.</p>

	<p>Next week I will have to transition into writing on the article if we want that finished. Focus of <code>mpLib</code> will be performance analysis and formatting it. I also hope to complete the VHDL kernel. I will also check what is needed to implement my version on the FPGA.</p>

	<h2>mpLib</h2>

	<ol>
	<li>Prepared performance analysis by preparing lots of different compiled executables and deriving a theoretical formula.</li>
	<li>Created a configuration file to hold typedefs and defines.</li>
	</ol>


	<h2>VHDL</h2>

	<ol>
	<li>Made sure gtkWave works as intented on my machine.</li>
	<li>Hard-coded a 5 level adder tree into my kernel. Simulated in gtkWave.</li>
	</ol>
</span>

<span class="post_content">
	My second post! Jag undrar just hur lång en sådan här post kan bli. Eller jag kanske ska kalla det inlägg. Jag vet inte riktigt vilken nivå av inlånade engelska ord som är den optimala.
</span>

<span class="post_content">
	My second post! Jag undrar just hur lång en sådan här post kan bli. Eller jag kanske ska kalla det inlägg. Jag vet inte riktigt vilken nivå av inlånade engelska ord som är den optimala.
</span>

<span class="post_content">
	My second post! Jag undrar just hur lång en sådan här post kan bli. Eller jag kanske ska kalla det inlägg. Jag vet inte riktigt vilken nivå av inlånade engelska ord som är den optimala.
</span>

<span class="post_content">
	My second post! Jag undrar just hur lång en sådan här post kan bli. Eller jag kanske ska kalla det inlägg. Jag vet inte riktigt vilken nivå av inlånade engelska ord som är den optimala.
</span>

<span class="post_content">
	My second post! Jag undrar just hur lång en sådan här post kan bli. Eller jag kanske ska kalla det inlägg. Jag vet inte riktigt vilken nivå av inlånade engelska ord som är den optimala.
</span>

<span class="post_content">
	My second post! Jag undrar just hur lång en sådan här post kan bli. Eller jag kanske ska kalla det inlägg. Jag vet inte riktigt vilken nivå av inlånade engelska ord som är den optimala.
</span>

<span class="post_content">
	My second post! Jag undrar just hur lång en sådan här post kan bli. Eller jag kanske ska kalla det inlägg. Jag vet inte riktigt vilken nivå av inlånade engelska ord som är den optimala.
</span>